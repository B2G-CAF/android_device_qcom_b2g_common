From d53aeea2d443a94164d1f14511c6ec0eb0a8e141 Mon Sep 17 00:00:00 2001
From: Michael Vines <mvines@codeaurora.org>
Date: Wed, 4 Dec 2013 11:29:43 -0800
Subject: [PATCH] CR583569 - Avoid dereferencing
 |e.accelerationIncludingGravity| when null

Change-Id: I41d48258a5bf028102aae0b375d8ae4d7cc124a3
---
 apps/camera/js/orientation.js |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/apps/camera/js/orientation.js b/apps/camera/js/orientation.js
index c899e7b..3e9c832 100644
--- a/apps/camera/js/orientation.js
+++ b/apps/camera/js/orientation.js
@@ -77,6 +77,10 @@ var CameraOrientation = (function() {
   }
 
   function handleMotionEvent(e) {
+    if (!e.accelerationIncludingGravity) {
+      return;
+    }
+
     var filterReset = applyFilter(e.accelerationIncludingGravity.x,
                                   e.accelerationIncludingGravity.y,
                                   e.accelerationIncludingGravity.z);
-- 
1.7.6

